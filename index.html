<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HUMANOID ROBOT · 7 SECTIONS · DIVYASRI S</title>
    <style>
      /* ----- reset & base ----- */
      body {
        margin: 0;
        overflow: hidden;
        font-family: "Segoe UI", "Roboto", system-ui, sans-serif;
        background-color: #0a0a0a;
      }
      canvas {
        display: block;
      }

      /* ----- name & title overlay (left side) ----- */
      .identity {
        position: fixed;
        top: 30px;
        left: 30px;
        z-index: 300;
        color: #d0d0d0;
        text-transform: uppercase;
        letter-spacing: 6px;
        border-left: 6px solid #a22;
        padding-left: 24px;
        background: rgba(10, 10, 10, 0.7);
        backdrop-filter: blur(4px);
        border-radius: 0 20px 20px 0;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.8), inset 0 0 0 1px #3f3f3f;
      }
      .identity h1 {
        font-size: 2.5rem;
        font-weight: 400;
        margin: 0;
        line-height: 1.2;
        text-shadow: 0 2px 10px #0a0a0a;
        color: #eeeeee;
      }
      .identity p {
        font-size: 1rem;
        margin: 0 0 8px 0;
        font-weight: 300;
        letter-spacing: 4px;
        color: #b5b5b5;
      }
      @media (max-width: 600px) {
        .identity h1 {
          font-size: 1.8rem;
        }
        .identity p {
          font-size: 0.8rem;
        }
      }

      /* ----- mechanical frame (right side, parallel to name) now with image ----- */
      .right-frame {
        position: fixed;
        top: 30px;
        right: 30px;
        width: 180px;
        height: 140px;
        z-index: 290;
        border: 4px solid #3f3f3f;
        border-top-color: #7a7a7a;
        border-left-color: #6a6a6a;
        border-right-color: #2a2a2a;
        border-bottom-color: #2a2a2a;
        background: #1a1a1a;
        box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8),
          0 5px 15px rgba(0, 0, 0, 0.7);
        border-radius: 30px 4px 30px 4px;
        overflow: hidden; /* ensures image fits within border */
        padding: 0; /* no padding so image fills frame */
      }
      /* rivets (preserved) */
      .right-frame::before {
        content: "";
        position: absolute;
        top: 8px;
        left: 8px;
        width: 16px;
        height: 16px;
        background: radial-gradient(circle, #8a8a8a, #3a3a3a);
        border-radius: 50%;
        border: 2px solid #5a5a5a;
        box-shadow: inset 0 2px 3px black;
        z-index: 295;
        pointer-events: none;
      }
      .right-frame::after {
        content: "";
        position: absolute;
        bottom: 8px;
        right: 8px;
        width: 16px;
        height: 16px;
        background: radial-gradient(circle, #7a7a7a, #2f2f2f);
        border-radius: 50%;
        border: 2px solid #4f4f4f;
        box-shadow: inset 0 2px 3px black;
        z-index: 295;
        pointer-events: none;
      }
      .right-frame img {
        width: 100%;
        height: 100%;
        object-fit: cover; /* ensures image covers the area without distortion */
        display: block;
        filter: grayscale(0.8) contrast(1.3); /* industrial look */
        opacity: 0.9;
      }
      @media (max-width: 800px) {
        .right-frame {
          display: none;
        } /* hide on smaller screens */
      }

      /* ----- mechanical panels (slide‑in) : 7 panels ----- */
      .panel {
        position: fixed;
        width: 340px;
        max-width: 85vw;
        background: #0f0f0f;
        color: #cfcfcf;
        padding: 24px 20px;
        border-width: 3px 5px 5px 3px;
        border-style: solid;
        box-shadow: inset 0 -4px 12px rgba(0, 0, 0, 0.8),
          inset 0 4px 8px rgba(120, 120, 120, 0.2),
          0 15px 30px rgba(0, 0, 0, 0.9), 0 0 0 2px #2f2f2f;
        transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.3s;
        z-index: 100;
        pointer-events: auto;
        backdrop-filter: blur(2px);
        letter-spacing: 0.3px;
        line-height: 1.5;
        font-size: 0.95rem;
        top: 50%;
        transform: translateY(-50%) translateX(-120%);
        opacity: 0;
        border-radius: 4px 20px 4px 20px;
      }
      .panel.active {
        transform: translateY(-50%) translateX(0);
        opacity: 1;
      }

      /* unique mechanical borders by id (7 ids) */
      #panel-about {
        border-color: #6d6d6d #2b2b2b #2b2b2b #7a7a7a;
        border-top: 8px solid #808080;
        border-left: 8px solid #9c9c9c;
        border-radius: 30px 4px 30px 4px;
        background: #0c0c0c;
      }
      #panel-skills {
        border-color: #4f4f4f #202020 #202020 #5f5f5f;
        border-style: ridge groove groove ridge;
        border-width: 6px 10px 10px 6px;
        border-radius: 4px 40px 4px 40px;
        background: #151515;
      }
      #panel-projects {
        border-color: #5e5e5e #242424 #242424 #6e6e6e;
        border-style: inset outset outset inset;
        border-width: 10px 5px 5px 10px;
        border-radius: 50px 0 50px 0;
        background: #101010;
      }
      #panel-education {
        border-color: #777 #2a2a2a #2a2a2a #777;
        border-style: double double solid double;
        border-width: 8px 8px 12px 8px;
        border-radius: 0 30px 0 30px;
        background: #121212;
      }
      #panel-certification {
        border-color: #5d5d5d #1f1f1f #1f1f1f #6c6c6c;
        border-style: solid none solid solid;
        border-width: 6px 4px 12px 10px;
        border-radius: 20px 20px 0 20px;
        background: #181818;
      }
      #panel-achievements {
        border-color: #7a5d5d #2e2e2e #2e2e2e #8a6a6a;
        border-style: groove ridge ridge groove;
        border-width: 8px 6px 6px 8px;
        border-radius: 10px 30px 10px 30px;
        background: #1a1a1a;
      }
      #panel-contact {
        border-color: #7f7f7f #2e2e2e #2e2e2e #898989;
        border-style: groove ridge ridge groove;
        border-width: 12px 4px 4px 12px;
        border-radius: 4px 4px 40px 40px;
        background: #0e0e0e;
      }

      /* mechanical rivets on panels */
      .panel::before {
        content: "";
        position: absolute;
        top: 8px;
        right: 8px;
        width: 16px;
        height: 16px;
        background: radial-gradient(circle, #8a8a8a, #3a3a3a);
        border-radius: 50%;
        border: 2px solid #5a5a5a;
        box-shadow: inset 0 2px 3px black;
        z-index: 2;
      }
      .panel::after {
        content: "";
        position: absolute;
        bottom: 8px;
        left: 8px;
        width: 16px;
        height: 16px;
        background: radial-gradient(circle, #7a7a7a, #2f2f2f);
        border-radius: 50%;
        border: 2px solid #4f4f4f;
        box-shadow: inset 0 2px 3px black;
      }

      .panel h3 {
        margin-top: 0;
        margin-bottom: 16px;
        font-weight: 400;
        text-transform: uppercase;
        letter-spacing: 4px;
        font-size: 1.2rem;
        border-bottom: 2px solid #5f5f5f;
        padding-bottom: 8px;
        color: #dddddd;
        text-shadow: 0 2px 3px black;
      }
      .panel p,
      .panel li {
        font-weight: 300;
        margin-bottom: 10px;
      }
      .panel ul {
        padding-left: 20px;
      }
      .panel li {
        list-style-type: square;
        color: #b5b5b5;
      }
      .panel a {
        color: #d0a0a0;
        text-decoration: none;
        border-bottom: 1px dashed #a55;
      }
      .panel a:hover {
        color: #f0b0b0;
      }

      /* close button */
      .close-btn {
        display: inline-block;
        margin-top: 20px;
        padding: 8px 20px;
        background: #1f1f1f;
        border: 2px solid #6d6d6d;
        color: #ccc;
        font-size: 0.8rem;
        letter-spacing: 2px;
        cursor: pointer;
        text-transform: uppercase;
        box-shadow: inset 0 2px 5px #0a0a0a, 0 3px 0 #2d2d2d;
        transition: all 0.1s;
        border-radius: 0px;
      }
      .close-btn:active {
        transform: translateY(3px);
        box-shadow: inset 0 2px 5px #0a0a0a;
      }

      .panel {
        left: 5%;
      }
      @media (max-width: 700px) {
        .panel {
          left: 3%;
          width: 280px;
          padding: 16px;
        }
      }

      .hint {
        position: fixed;
        bottom: 20px;
        right: 20px;
        color: #6d6d6d;
        font-size: 0.8rem;
        letter-spacing: 2px;
        background: #121212aa;
        padding: 8px 16px;
        border: 1px solid #3f3f3f;
        backdrop-filter: blur(4px);
        z-index: 200;
        border-radius: 0px;
      }
    </style>
  </head>
  <body>
    <!-- name and title overlay (left) -->
    <div class="identity">
      <p>AI ENTHUSIAST · CSE STUDENT</p>
      <h1>DIVYASRI S</h1>
    </div>

    <!-- mechanical frame on the right, now containing an image (replace src with your own) -->
    <div class="right-frame">
      <img src="1photo.jpeg" />
    </div>

    <!-- 7 mechanical panels (exact content) with updated contact links -->
    <div id="panel-about" class="panel">
      <h3>ABOUT ME</h3>
      <p>
        A Computer Science and Engineering student with a strong interest in
        Artificial Intelligence and Machine Learning. I am passionate about
        using technology to solve real-world problems.
      </p>
      <p>
        Currently, I am expanding my knowledge in Deep Learning and continuously
        improving my skills to stay aligned with industry needs. I am eager to
        apply my learning in real-world environments, contribute to innovative
        projects, and grow as a technology professional.
      </p>
      <button class="close-btn">CLOSE DOOR</button>
    </div>
    <div id="panel-skills" class="panel">
      <h3>SKILLS</h3>
      <p>
        <strong>Programming Languages:</strong><br />C, C++, Java, HTML, CSS
      </p>
      <button class="close-btn">CLOSE DOOR</button>
    </div>
    <div id="panel-projects" class="panel">
      <h3>PROJECTS</h3>
      <p>
        <strong>1. University Management System (UMS)</strong><br />Using Java
        Swing, MySQL, and JDBC connectivity<br />Developed a Java-based desktop
        application with MySQL database connectivity using JDBC.
      </p>
      <p>
        <strong>2. Q Forensics:</strong> A hybrid quantum-classical framework
        for deepfake detection via spatial-frequency fusion
      </p>
      <button class="close-btn">CLOSE DOOR</button>
    </div>
    <div id="panel-education" class="panel">
      <h3>EDUCATION</h3>
      <p>
        <strong>Government College of Engineering, Salem</strong><br />B.E
        Computer Science and Engineering (2023–2027)<br />CGPA: 8.98
      </p>
      <p>
        <strong>Nivedha Matriculation Higher Secondary School</strong
        ><br />Grade 12 (2022–2023)<br />Grade: 97.33
      </p>
      <button class="close-btn">CLOSE DOOR</button>
    </div>
    <div id="panel-certification" class="panel">
      <h3>CERTIFICATION</h3>
      <p>Oracle Certified Foundations Associate</p>
      <button class="close-btn">CLOSE DOOR</button>
    </div>
    <div id="panel-achievements" class="panel">
      <h3>ACHIEVEMENTS</h3>
      <p>
        First prize in paper presentation at national level technical symposium
        on topic:<br />Q Forensics: A hybrid quantum-classical framework for
        deepfake detection via spatial-frequency fusion
      </p>
      <button class="close-btn">CLOSE DOOR</button>
    </div>
    <div id="panel-contact" class="panel">
      <h3>CONTACT</h3>
      <p>Email: <a href="mailto:diyapyr@gmail.com">diyapyr@gmail.com</a></p>
      <p>
        LinkedIn:
        <a
          href="https://www.linkedin.com/in/divyasri-s-925765351"
          target="_blank"
          >linkedin.com/in/divyasri-s-925765351</a
        >
      </p>
      <p>
        GitHub:
        <a href="https://github.com/Divya-22-sri" target="_blank"
          >github.com/Divya-22-sri</a
        >
      </p>
      <button class="close-btn">CLOSE DOOR</button>
    </div>

    <div class="hint">[ CLICK ROBOT PART ]</div>

    <!-- Three.js import -->
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.126.0/build/three.module.js"
        }
      }
    </script>

    <script type="module">
      import * as THREE from "three";

      // --- setup scene, camera, renderer ---
      const scene = new THREE.Scene();
      scene.background = new THREE.Color(0x0a0a0a);

      const camera = new THREE.PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      camera.position.set(5, 5, 16);

      const renderer = new THREE.WebGLRenderer({
        antialias: true,
        alpha: false,
      });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;
      renderer.setPixelRatio(window.devicePixelRatio);
      document.body.appendChild(renderer.domElement);

      // --- lighting: industrial, subtle red rim ---
      const ambient = new THREE.AmbientLight(0x404060);
      scene.add(ambient);

      const dirLight = new THREE.DirectionalLight(0xffffff, 1.3);
      dirLight.position.set(4, 8, 6);
      dirLight.castShadow = true;
      dirLight.receiveShadow = true;
      dirLight.shadow.mapSize.width = 1024;
      dirLight.shadow.mapSize.height = 1024;
      dirLight.shadow.camera.near = 0.5;
      dirLight.shadow.camera.far = 20;
      dirLight.shadow.camera.left = -5;
      dirLight.shadow.camera.right = 5;
      dirLight.shadow.camera.top = 5;
      dirLight.shadow.camera.bottom = -5;
      scene.add(dirLight);

      const fillLight = new THREE.DirectionalLight(0xffccaa, 0.4);
      fillLight.position.set(-5, 3, 5);
      scene.add(fillLight);

      // red rim lights (behind)
      const redLight1 = new THREE.PointLight(0x992222, 0.5);
      redLight1.position.set(3, 4, -6);
      scene.add(redLight1);
      const redLight2 = new THREE.PointLight(0x992222, 0.3);
      redLight2.position.set(-3, 3, -7);
      scene.add(redLight2);
      const backRed = new THREE.PointLight(0x662222, 0.3);
      backRed.position.set(0, 5, -8);
      scene.add(backRed);

      // industrial floor
      const floorMat = new THREE.MeshStandardMaterial({
        color: 0x1f1f1f,
        metalness: 0.7,
        roughness: 0.8,
      });
      const floor = new THREE.Mesh(
        new THREE.CylinderGeometry(7, 7, 0.3, 32),
        floorMat
      );
      floor.position.y = -3.2;
      floor.receiveShadow = true;
      floor.castShadow = true;
      scene.add(floor);

      // ----- robot group (root) -----
      const robotGroup = new THREE.Group();
      scene.add(robotGroup);

      // materials (dark silver metallic)
      const metalMain = new THREE.MeshStandardMaterial({
        color: 0xa5a5a5,
        metalness: 0.95,
        roughness: 0.25,
      });
      const metalDark = new THREE.MeshStandardMaterial({
        color: 0x6a6a6a,
        metalness: 0.9,
        roughness: 0.4,
      });
      const metalAccent = new THREE.MeshStandardMaterial({
        color: 0xc0c0c0,
        metalness: 0.98,
        roughness: 0.2,
      });
      const redEmissive = new THREE.MeshStandardMaterial({
        color: 0x220000,
        emissive: 0x441111,
        metalness: 0.3,
        roughness: 0.5,
      });

      // ========== BUILD HUMANOID ROBOT WITH TWO FULL LEGS ==========
      // Mapping:
      // Head -> Projects
      // Torso -> About
      // Left Arm -> Skills
      // Right Arm -> Education
      // Left Leg -> Certification
      // Right Leg -> Achievements
      // Bottom Panel (base) -> Contact

      // --- Torso (narrow, tall) ---
      const torsoGroup = new THREE.Group();
      torsoGroup.name = "torso";

      // main chest: height 3.0, from y = -1.5 to y = 1.5
      const chest = new THREE.Mesh(
        new THREE.BoxGeometry(1.8, 3.0, 1.2),
        metalMain
      );
      chest.position.y = 0.0;
      chest.castShadow = true;
      chest.receiveShadow = true;
      torsoGroup.add(chest);

      // chest plate detail
      const plate = new THREE.Mesh(
        new THREE.BoxGeometry(1.4, 1.6, 0.3),
        metalDark
      );
      plate.position.set(0, 0.4, 0.7);
      plate.castShadow = true;
      plate.receiveShadow = true;
      torsoGroup.add(plate);

      // waist joint (visible)
      const waist = new THREE.Mesh(
        new THREE.CylinderGeometry(1.3, 1.3, 0.6, 8),
        metalDark
      );
      waist.position.y = -1.6;
      waist.castShadow = true;
      waist.receiveShadow = true;
      torsoGroup.add(waist);

      robotGroup.add(torsoGroup);

      // --- Head with industrial faceplate (flush on torso) ---
      const headGroup = new THREE.Group();
      headGroup.name = "head";

      // head casing: height 1.5, bottom at y=1.5
      const headBase = new THREE.Mesh(
        new THREE.BoxGeometry(1.4, 1.5, 1.3),
        metalMain
      );
      headBase.position.y = 0;
      headBase.castShadow = true;
      headBase.receiveShadow = true;
      headGroup.add(headBase);

      // faceplate: horizontal red LED visor
      const visor = new THREE.Mesh(
        new THREE.BoxGeometry(1.2, 0.2, 0.2),
        redEmissive
      );
      visor.position.set(0, 0.25, 0.75);
      visor.castShadow = true;
      headGroup.add(visor);

      // upper crest
      const crest = new THREE.Mesh(
        new THREE.BoxGeometry(1.0, 0.4, 0.8),
        metalAccent
      );
      crest.position.set(0, 0.9, 0.2);
      crest.castShadow = true;
      headGroup.add(crest);

      // side panels
      const sideL = new THREE.Mesh(
        new THREE.BoxGeometry(0.3, 1.1, 0.5),
        metalDark
      );
      sideL.position.set(-0.9, 0.0, 0.2);
      sideL.castShadow = true;
      headGroup.add(sideL);
      const sideR = sideL.clone();
      sideR.position.set(0.9, 0.0, 0.2);
      headGroup.add(sideR);

      headGroup.position.y = 2.25; // bottom = 1.5
      torsoGroup.add(headGroup);

      // --- Arms (elongated) ---
      function createArm(side) {
        const armGroup = new THREE.Group();
        armGroup.name = side === "left" ? "leftArm" : "rightArm";

        const shoulder = new THREE.Mesh(
          new THREE.SphereGeometry(0.6, 8),
          metalAccent
        );
        shoulder.castShadow = true;
        shoulder.receiveShadow = true;
        armGroup.add(shoulder);

        const upper = new THREE.Mesh(
          new THREE.CylinderGeometry(0.5, 0.5, 2.5, 8),
          metalMain
        );
        upper.position.y = -1.4;
        upper.castShadow = true;
        upper.receiveShadow = true;
        armGroup.add(upper);

        const elbow = new THREE.Mesh(
          new THREE.SphereGeometry(0.45, 6),
          metalDark
        );
        elbow.position.y = -2.8;
        elbow.castShadow = true;
        elbow.receiveShadow = true;
        armGroup.add(elbow);

        const forearm = new THREE.Mesh(
          new THREE.CylinderGeometry(0.45, 0.4, 2.3, 8),
          metalMain
        );
        forearm.position.y = -4.1;
        forearm.castShadow = true;
        forearm.receiveShadow = true;
        armGroup.add(forearm);

        const hand = new THREE.Mesh(
          new THREE.BoxGeometry(0.5, 0.3, 0.5),
          metalAccent
        );
        hand.position.y = -5.3;
        hand.castShadow = true;
        hand.receiveShadow = true;
        armGroup.add(hand);

        const led = new THREE.Mesh(
          new THREE.SphereGeometry(0.15, 4),
          redEmissive
        );
        led.position.set(0.4, 0.2, 0.4);
        led.castShadow = true;
        armGroup.add(led);

        return armGroup;
      }

      const leftArm = createArm("left");
      leftArm.position.set(-1.5, 0.2, 0);
      leftArm.rotation.z = 0.15;
      leftArm.rotation.x = 0.1;
      robotGroup.add(leftArm);

      const rightArm = createArm("right");
      rightArm.position.set(1.5, 0.2, 0);
      rightArm.rotation.z = -0.15;
      rightArm.rotation.x = -0.1;
      robotGroup.add(rightArm);

      // --- Legs (full, elongated, with knee joints) ---
      function createLeg(side) {
        const legGroup = new THREE.Group();
        legGroup.name = side === "left" ? "leftLeg" : "rightLeg";

        // upper leg (long)
        const upperLeg = new THREE.Mesh(
          new THREE.CylinderGeometry(0.65, 0.6, 2.8, 8),
          metalMain
        );
        upperLeg.position.y = -1.5;
        upperLeg.castShadow = true;
        upperLeg.receiveShadow = true;
        legGroup.add(upperLeg);

        // knee joint
        const knee = new THREE.Mesh(
          new THREE.SphereGeometry(0.5, 6),
          metalDark
        );
        knee.position.y = -3.0;
        knee.castShadow = true;
        knee.receiveShadow = true;
        legGroup.add(knee);

        // lower leg
        const lowerLeg = new THREE.Mesh(
          new THREE.CylinderGeometry(0.55, 0.5, 2.6, 8),
          metalMain
        );
        lowerLeg.position.y = -4.4;
        lowerLeg.castShadow = true;
        lowerLeg.receiveShadow = true;
        legGroup.add(lowerLeg);

        // foot (mechanical)
        const foot = new THREE.Mesh(
          new THREE.BoxGeometry(0.9, 0.4, 1.6),
          metalAccent
        );
        foot.position.set(0, -5.8, 0.3);
        foot.castShadow = true;
        foot.receiveShadow = true;
        legGroup.add(foot);

        // red LED on knee
        const led = new THREE.Mesh(
          new THREE.SphereGeometry(0.15, 4),
          redEmissive
        );
        led.position.set(0.3, -3.0, 0.3);
        led.castShadow = true;
        legGroup.add(led);

        return legGroup;
      }

      const leftLeg = createLeg("left");
      leftLeg.position.set(-0.9, -1.4, 0);
      robotGroup.add(leftLeg);

      const rightLeg = createLeg("right");
      rightLeg.position.set(0.9, -1.4, 0);
      robotGroup.add(rightLeg);

      // --- Bottom panel (base / foot plate) for Contact ---
      const bottomGroup = new THREE.Group();
      bottomGroup.name = "bottomPanel";

      // a central base plate connecting the feet
      const basePlate = new THREE.Mesh(
        new THREE.BoxGeometry(2.8, 0.3, 2.2),
        metalDark
      );
      basePlate.position.y = -3.0;
      basePlate.castShadow = true;
      basePlate.receiveShadow = true;
      bottomGroup.add(basePlate);

      // additional small details
      const plateL = new THREE.Mesh(
        new THREE.BoxGeometry(0.4, 0.2, 1.0),
        metalAccent
      );
      plateL.position.set(-1.2, -2.9, 0.8);
      plateL.castShadow = true;
      bottomGroup.add(plateL);
      const plateR = plateL.clone();
      plateR.position.set(1.2, -2.9, 0.8);
      bottomGroup.add(plateR);

      robotGroup.add(bottomGroup);

      // extra pistons (cosmetic)
      const pistonGeo = new THREE.CylinderGeometry(0.2, 0.2, 1.5);
      const pistonMat = new THREE.MeshStandardMaterial({
        color: 0x7a7a7a,
        metalness: 0.9,
        roughness: 0.3,
      });
      const piston1 = new THREE.Mesh(pistonGeo, pistonMat);
      piston1.position.set(-0.7, 0.0, 0.8);
      piston1.rotation.x = 0.3;
      piston1.castShadow = true;
      robotGroup.add(piston1);
      const piston2 = piston1.clone();
      piston2.position.set(0.7, 0.0, 0.8);
      robotGroup.add(piston2);

      // interactive parts: all 7 groups
      const interactiveParts = [
        headGroup,
        torsoGroup,
        leftArm,
        rightArm,
        leftLeg,
        rightLeg,
        bottomGroup,
      ];

      // --- mouse parallax ---
      const mouse = new THREE.Vector2();
      const targetCameraPos = camera.position.clone();

      window.addEventListener("mousemove", (event) => {
        mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
        mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
        targetCameraPos.x = 5 + mouse.x * 1.8;
        targetCameraPos.y = 5 + mouse.y * 1.2;
        targetCameraPos.z = 16 - Math.abs(mouse.x) * 1.5;
      });

      // --- idle animation ---
      let clock = new THREE.Clock();

      // --- raycasting logic ---
      const raycaster = new THREE.Raycaster();
      const clickMouse = new THREE.Vector2();

      function onClick(event) {
        clickMouse.x = (event.clientX / window.innerWidth) * 2 - 1;
        clickMouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

        raycaster.setFromCamera(clickMouse, camera);
        const intersects = raycaster.intersectObjects(interactiveParts, true);

        if (intersects.length > 0) {
          let hitObj = intersects[0].object;
          while (hitObj && !hitObj.name) {
            hitObj = hitObj.parent;
          }
          if (!hitObj || !hitObj.name) return;

          const name = hitObj.name;

          document
            .querySelectorAll(".panel")
            .forEach((p) => p.classList.remove("active"));

          switch (name) {
            case "head":
              document.getElementById("panel-projects").classList.add("active");
              break;
            case "torso":
              document.getElementById("panel-about").classList.add("active");
              break;
            case "leftArm":
              document.getElementById("panel-skills").classList.add("active");
              break;
            case "rightArm":
              document
                .getElementById("panel-education")
                .classList.add("active");
              break;
            case "leftLeg":
              document
                .getElementById("panel-certification")
                .classList.add("active");
              break;
            case "rightLeg":
              document
                .getElementById("panel-achievements")
                .classList.add("active");
              break;
            case "bottomPanel":
              document.getElementById("panel-contact").classList.add("active");
              break;
            default:
              break;
          }
        }
      }

      window.addEventListener("click", onClick);

      document.querySelectorAll(".close-btn").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          e.stopPropagation();
          btn.closest(".panel").classList.remove("active");
        });
      });

      // --- animation loop ---
      function animate() {
        requestAnimationFrame(animate);

        const time = performance.now() / 600;

        // head scanning
        if (headGroup) {
          headGroup.rotation.y = Math.sin(time * 0.7) * 0.2;
          headGroup.rotation.x = Math.sin(time * 0.5) * 0.03;
        }

        // torso breathing
        torsoGroup.position.y = Math.sin(time * 0.8) * 0.03;

        // arms subtle movement
        leftArm.rotation.z = 0.15 + Math.sin(time * 1.2) * 0.03;
        rightArm.rotation.z = -0.15 + Math.sin(time * 1.3) * 0.03;

        // legs slight movement
        leftLeg.rotation.x = Math.sin(time * 0.9) * 0.02;
        rightLeg.rotation.x = Math.sin(time * 0.9 + 0.5) * 0.02;

        // camera parallax
        camera.position.lerp(targetCameraPos, 0.05);
        camera.lookAt(0, 2.0, 0);

        renderer.render(scene, camera);
      }

      animate();

      window.addEventListener("resize", onWindowResize, false);
      function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      }
    </script>
  </body>
</html>
